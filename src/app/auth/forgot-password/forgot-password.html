<div class="min-h-[70vh] flex items-start justify-center py-12">
  <div
    class="w-full max-w-md rounded-2xl border border-gray-200 bg-white/90 shadow-xl shadow-gray-200/40 backdrop-blur-sm"
  >
    <div class="px-6 pt-6 pb-2 text-center">
      <h2 class="text-2xl font-bold tracking-tight text-gray-900">Reset Your Password</h2>
      <p class="mt-1 text-sm text-gray-500">Weâ€™ll send a reset link to your email</p>
    </div>

    <div class="px-6 pb-6">
      @if (errorMessage) {
      <div class="mb-4 rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-red-700">
        <div>{{ errorMessage }}</div>
        @if (errorCta === 'register') {
          <div class="mt-2 text-sm">
            <span>Don't have an account yet?</span>
            <a routerLink="/auth/register" class="font-semibold text-indigo-700 underline underline-offset-2 hover:text-indigo-500">Create an account</a>
          </div>
        }
      </div>
      } @if (isEmailSent) {
      <div class="mb-4 rounded-xl border border-green-200 bg-green-50 px-4 py-3 text-green-700">
        <p>Reset password link has been sent to your email.</p>
        <p class="mt-2 text-sm">
          Please check your inbox and follow the instructions to reset your password.
        </p>
      </div>
      } @if (!isEmailSent) {
      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="space-y-4">
        <div>
          <label class="mb-1 block text-sm font-medium text-gray-700">Email</label>
          <input
            type="email"
            formControlName="email"
            class="w-full rounded-xl border border-gray-300 bg-white/90 px-3 py-2 text-gray-900 placeholder-gray-400 shadow-sm focus:border-transparent focus:ring-2 focus:ring-indigo-500 transition"
            [class.border-red-500]="
              forgotPasswordForm.get('email')?.touched && forgotPasswordForm.get('email')?.errors
            "
            [class.ring-2]="
              forgotPasswordForm.get('email')?.touched && forgotPasswordForm.get('email')?.errors
            "
            [class.ring-red-200]="
              forgotPasswordForm.get('email')?.touched && forgotPasswordForm.get('email')?.errors
            "
            placeholder="Enter your registered email"
          />

          @if (forgotPasswordForm.get('email')?.touched && forgotPasswordForm.get('email')?.errors)
          {
          <div class="mt-1 text-sm text-red-600">
            {{ getFieldError('email') }}
          </div>
          }
        </div>

        <button
          type="submit"
          class="group relative inline-flex w-full items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-2.5 font-semibold text-white shadow-sm shadow-indigo-600/20 transition-all duration-200 hover:-translate-y-0.5 hover:bg-indigo-500 active:translate-y-0 active:scale-95 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500 disabled:cursor-not-allowed disabled:opacity-60"
          [disabled]="isLoading"
        >
          @if (!isLoading) {
          <span>Send Reset Link</span>
          } @else {
          <span>Sending...</span>
          }
        </button>
      </form>
      }

      <div class="mt-4 text-center">
        <p>
          <a routerLink="/auth/login" class="font-medium text-indigo-600 hover:text-indigo-500">
            Back to Login
          </a>
        </p>
      </div>
    </div>
  </div>
</div>
